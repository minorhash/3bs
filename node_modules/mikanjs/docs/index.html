<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Demo</title>
  <link href="//fonts.googleapis.com/css?family=RobotoDraft:100,300,400,500,700" rel=
    "stylesheet">
  <script src="./mikan.js"></script>
</head>
<body>
  <input type="text" placeholder="ここに文章を入力" id="input"/>
  <div id="sample">

  </div>
  <script>
    var sampleElement = document.getElementById('sample');
    var input = document.getElementById('input');

    sampleElement.appendChild(mikanHTML('やりたいことのそばにいる'));
    input.addEventListener('change', function(e) {
      var result = mikanHTML(e.target.value);
      while (sampleElement.firstChild) {
        sampleElement.removeChild(sampleElement.firstChild);
      }
      sampleElement.appendChild(result);
    });

    function mikanHTML(sentence) {
      var tokens = Mikan.split(sentence);
      var container = document.createElement('div');
      tokens.forEach(function(token) {
        var sp = document.createElement('span');
        var textNode = document.createTextNode(token);
        sp.style.display = 'inline-block'
        sp.style.whiteSpace = 'nowrap'

        sp.appendChild(textNode);
        container.appendChild(sp);
      })
      return container;
    }
  </script>
  <style>
  body {
    background: #fff;
    color: #444;
    font: 300 16px/1.6 "RobotoDraft",arial,sans-serif;
    -webkit-font-smoothing: antialiased;
    position: relative;
  }
  #sample {
    font-family: 'RobotoDraft', arial, sans-serif;
    color: #444;
    font-size: 56px;
    font-weight: 300;
    line-height: 1.25;
    margin: 20px auto;
    max-width: 900px;
    text-align: center;
  }
  </style>
</body>
</html>
